<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        var data = [{
                "name": "运动员甲",
                "sport": "1",
                "time": "20s"
            },
            {
                "name": "运动员乙",
                "sport": "2",
                "time": "13s"
            },
            {
                "name": "运动员丙",
                "sport": "3",
                "time": "20s"
            },
            {
                "name": "运动员乙",
                "sport": "3",
                "time": "23s"
            },
            {
                "name": "运动员丙",
                "sport": "1",
                "time": "24s"
            },
            {
                "name": "运动员甲",
                "sport": "2",
                "time": "25s"
            },
            {
                "name": "运动员甲",
                "sport": "3",
                "time": "27s"
            },
            {
                "name": "运动员丙",
                "sport": "2",
                "time": "28s"
            },
            {
                "name": "运动员乙",
                "sport": "1",
                "time": "24s"
            }
        ]
        // name表示名称，
        // sport表示运动类型，1为跑步，2位自行车，3为游泳
        // time表示时间成绩
        // 将以上数据通过代码的形式，转换为上表可用的数据

        // data = [
        //     {
        //         name:'运动员甲',
        //         sports:[
        //             {sport:"1",time:'23s',title:'跑步'},
        //             {sport:"2",time:'24s',title:'自行车'},
        //             {sport:"3",time:'25s',title:'游泳'}
        //         ]
        //     }
        // ]


        const arr1 = [...new Set(data.map(item => item.name))]
        const arr2 = []
        //  const 
        for (const item2 of arr1) {
            var obj = {}
            obj.name = item2
            obj.sports = []
            let a1 = data.filter(item => item.name === item2)
            a1.forEach(item => {
                switch (item.sport) {
                    case "1":
                        item.title = '跑步'
                        break;
                    case "2":
                        item.title = '自行车'
                        break;
                    case "3":
                        item.title = '游泳'
                        break;
                    default:
                        break;
                }
                delete item.name
            })
            obj.sports.push(a1)
            arr2.push(obj)
        }
      
    </script>
</body>

</html>