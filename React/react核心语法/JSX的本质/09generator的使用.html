<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // generator 生成器
        // function foo(){
        //     console.log('foo被执行');
        // }
        // foo()
        // 2.生成器函数的定义
        // yield:成产生产
        function* foo() {
            console.log('111');
            yield 'hello'
            console.log('222');
            yield 'world'
            yield '赛'
        }
        // iterator：迭代器
        const result = foo()
        console.log(result);

        // 使用迭代器  调用一次next，就会消耗一次迭代器,且执行的代码按顺序执行，一直执行到yield 'hello'
        const res = result.next()
        console.log(res);
        const res2 = result.next()
        console.log(res2);
        const res3 = result.next()
        console.log(res3);
        const res4 = result.next()
        console.log(res4); //undefined  done：true

        // 5.练习：定义一个生成器函数，依次可以生成1-10的数字
        function* generatorNum() {
            for (var i = 1; i <= 10; i++) {
                yield i
            }
        }
        const res1 = generatorNum()
        console.log(res1.next().value);
        console.log(res1.next());
        // 6.generator和promise一起来使用
        function* bar() {
            const res = yield new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve('你好呀')
                }, 3000);
            })
            console.log(res);
        }
        const it = bar()
        it.next().value.then(res => {
            it.next(res)
        })
    </script>
</body>

</html>